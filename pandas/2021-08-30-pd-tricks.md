## check if is a [substring](https://towardsdatascience.com/check-for-a-substring-in-a-pandas-dataframe-column-4b949f64852)

```
pokemon_games = df.loc[df['Name'].str.contains("pokemon", case=False)]
```

### select numeric cols:

```python
df.select_dtypes(include=np.number)
df._get_numeric_data()
```

## Categorical Dataf

[pd.Categorical](https://pandas.pydata.org/pandas-docs/stable/user_guide/categorical.html)

-   [generating group idx from multiple columns](https://stackoverflow.com/questions/41594703/pandas-assign-an-index-to-each-group-identified-by-groupby):

    ```python
    df['idx'] = pd.Categorical(df['a'].astype(str) + '_' + df['b'].astype(str)).codes
    ```

    

### Write to multiple excel sheets

```python
##############################################################################
#
# An example of writing multiple dataframes to worksheets using Pandas and
# XlsxWriter.
#
# Copyright 2013-2021, John McNamara, jmcnamara@cpan.org
#

import pandas as pd


# Create some Pandas dataframes from some data.
df1 = pd.DataFrame({'Data': [11, 12, 13, 14]})
df2 = pd.DataFrame({'Data': [21, 22, 23, 24]})
df3 = pd.DataFrame({'Data': [31, 32, 33, 34]})

# Create a Pandas Excel writer using XlsxWriter as the engine.
writer = pd.ExcelWriter('pandas_multiple.xlsx', engine='xlsxwriter')

# Write each dataframe to a different worksheet.
df1.to_excel(writer, sheet_name='Sheet1')
df2.to_excel(writer, sheet_name='Sheet2')
df3.to_excel(writer, sheet_name='Sheet3')

# Close the Pandas Excel writer and output the Excel file.
writer.save()
```

## Timeseries boundary

https://stackoverflow.com/questions/32888124/pandas-out-of-bounds-nanosecond-timestamp-after-offset-rollforward-plus-adding-a

>   Since pandas represents timestamps in nanosecond resolution, the timespan that can be represented using a 64-bit integer is limited to approximately 584 years

```python
d.Timestamp.min
Out[54]: Timestamp('1677-09-22 00:12:43.145225')

In [55]: pd.Timestamp.max
Out[55]: Timestamp('2262-04-11 23:47:16.854775807')
```

## Inverse select indexes

-   [difference()](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Index.difference.html)

```python
indexes = y.loc[y == 1].indexes
y[y.index.difference(indexes)]
```

## Inverse columns

```
y.loc[:, y.columns != "b"]
```

